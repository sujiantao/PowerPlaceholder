// PowerPlaceholder v1.0.0
// (c) sujiantao - http://www.sujiantao.com/
// License: No license, you can use or modify it as you want 
(function (d) { var e = { initOpacity: 0.4, focusOpacityDiff: 0.3, overlayedClass: "jq-field-overlayed", overlayClass: "jq-field-overlay", actualOverlayClass: "jq-overlay-text", directions: ["left", "right", "top", "bottom"] }; function a(n, s, r) { for (var m = 0; m < r.length; m++) { var g = r[m]; try { if (/\*/.test(g)) { for (var k = 0; 4 > k; k++) { var j = g.replace(/\*/g, e.directions[k]), h = n.css(j); s.css(j, h) } } else { s.css(g, n.css(g)) } } catch (f) { } } } function c(p, k, q) { var l, g, f, r, n, j, i, o, m; if (p.is(":visible")) { m = d.browser.msie ? 0 : e.initOpacity; if (k()) { p.css("opacity", m + (q ? e.focusOpacityDiff : 0)); p.addClass(e.overlayedClass); l = p.prev("." + e.actualOverlayClass); if (0 === l.length) { g = p.next("." + e.actualOverlayClass).text(); f = p.width(); r = p.height(); l = p.clone().prop("className", e.actualOverlayClass).attr("name", null).attr("id", null).attr("disabled", "disabled").css({ position: "absolute", backgroundColor: "white", color: "black", "-webkit-text-fill-color": "black", opacity: 1, width: f, height: r }); if (l.is("textarea,input")) { l.val(g); a(p, l, ["line-height"]) } else { l.text(g).css("line-height", r + "px").prepend("&nbsp;") } a(p, l, ["font-family", "font-size", "text-align"]); a(p, l, ["border-*-style", "border-*-color", "border-*-width"]); p.css({ zIndex: 1, position: "relative" }); l.insertBefore(p); n = p.offset().top - l.offset().top; if (0 !== n) { j = parseInt(l.css("margin-top"), 10); n = j + n; if (!p.is("textarea")) { n = parseInt(l.prevAll(":visible").eq(0).css("margin-bottom"), 10) + j } l.css("margin-top", n) } i = p.offset().left - l.offset().left; if (0 !== i) { o = parseInt(l.css("margin-left"), 10); l.css("margin-left", o + i) } } } else { p.css("opacity", 1).css("filter", "").removeClass(e.overlayedClass) } } } var b = { genericBindOverlayEvents: function (f, g) { f.bind("keydown contextmenu", function () { b.hideHelpOverlay(f) }).focus(function () { c(f, g, true) }).blur(function () { c(f, g) }).each(function () { c(f, g) }) }, hideHelpOverlay: function (f) { f.css("opacity", 1); f.css("filter", ""); f.removeClass(e.overlayedClass) } }; d.fn.powerPlaceholder = function () { return this.each(function () { var f = d(this); b.genericBindOverlayEvents(f, function () { return "" === f.val() }) }) } })(jQuery);